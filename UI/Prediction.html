<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>San Francisco Crime Detection</title>
<link rel="stylesheet" href="css/bootstrap.css">
<script src="js/vendor/modernizr-2.6.2-respond-1.3.0.min.js"></script>
<style type="text/css">
	#header{
	background-color: #454545;
	color: #fff;
	}
	.menus{
	font-size: 20px	
	}
	#block-container{
	margin: 85px 15px 15px 15px;
	}
	.grey-background{
	%background-color: #454545;
	}
	#menu-content{
	%border-top: 7px solid #31708f;
	background-color: #ffffff;
	padding: 5px 5px;
	}
	#body-content{
	background-color: #fff;
	}
	.small-block-header{
	margin: 10px 0px;
	font-size: 24px;
	font-weight: 800;
	color: #31708f;
	border-bottom: 15px solid #31708f;	
	}
	.small-block{
	margin: 5px 15px 30px 15px;
	padding: 10px;
	border: 1px solid #aaa;
	border-left: 15px solid #31708f;
	min-height: 170px;	
	box-shadow: 10px 10px 5px #888888;
	}
	.small-img{
	float: right;
	height: 150px;
	}
	.small-block-content{
	margin-left: 20%;
	width: 60%;
	}
	
	.yellow-header{
	color: #f39c12;
	border-bottom: 15px solid #f39c12;	
	}
	.yellow-block{
	border-left: 15px solid #f39c12;
	}
	.purple-header{
	color: #373277;
	border-bottom: 15px solid #373277;
	}
	.purple-block{
	border-left: 15px solid #373277;
	}
	.orange-header{
	color: #C84101;
	border-bottom: 15px solid #C84101;
	}
	.orange-block{
	border-left: 15px solid #C84101;
	}
	#loadingBackGround{
	height: 100%;
   width: 100%;
   position: fixed;
   z-index: 1000;
   background: rgba(0,0,0,0.35);
	}
	#loading {
    /*position: absolute; width: 100%; height: 100%; background: url('icons/loading.gif') no-repeat center center;*/
   background:#000 url('icons/loading.gif') no-repeat center center;
   height: 200px;
   width: 200px;
   position: fixed;
   z-index: 1001;
   left: 50%;
   top: 50%;
   margin: -25px 0 0 -25px;
	}
</style>
<script src="js/jquery.js"></script>


</head>
<body class="header-fixed-top grey-background">
<div id="loadingBackGround" style="display:none;">
<div id="loading"></div>
</div>
<div id="page-container">
	<header id="header" class="navbar navbar-default navbar-fixed-top">
		<h1  style="Padding-left:15px">San Francisco Crime - Analysis & Prediction</h1>
	</header>
	<div id="page-background">
		<div id="block-container" class="fx-opacity">
			<div class="row gutter30">
				<div class="col-xs-12">
					<div id="menu-content">
						<ul class="nav nav-tabs push menus" data-toggle="tabs">
							<li><a href="Home.html">Home</a></li>
							<li><a href="Analysis.html">Analysis</a> </li>
							<li class="active"><a href="#">Prediction</a> </li>
						</ul>
						<div class="tab-content">
							<br>
							<div class="small-block yellow-block">	
								<div class="small-block-header yellow-header">
									Number of Crimes
								</div>
								<div class="small-block-content">							
									<div class="row gutter30">
										<div class="col-xs-12">
											<br>
											<div class="row gutter30">
												<div class="col-xs-5">
													<h3>District</h3>
												</div>										
												<div class="col-xs-2">
												</div>
												<div class="col-xs-5">
													<h3>Date</h3>
												</div>
											</div>
											<div class="row gutter30">
												<div class="col-xs-5">
													<select id="ddnDistrictP2" onselect="isP2ItemsSelected()" onchange="isP2ItemsSelected()" class="form-control" size="1">
														<option value="0">Select</option>
														<option value="MISSION">Mission</option>
														<option value="BAYVIEW">Bayview</option>
														<option value="CENTRAL">Central</option>
														<option value="TARAVAL">Taraval</option>
														<option value="TENDERLOIN">Tenderloin</option>
														<option value="INGLESIDE">Ingleside</option>
														<option value="PARK">Park</option>
														<option value="SOUTHERN">Southern</option>
														<option value="RICHMOND">Richmond</option>
														<option value="NORTHERN">Northern</option>												
													</select>
												</div>
												<div class="col-xs-2">
												</div>										
												<div class="col-xs-5">
													<select id="ddnDateP2" onselect="isP2ItemsSelected()" onchange="isP2ItemsSelected()" class="form-control" size="1">
														<option value="0">Select</option>
														<option value="12/07/2016">December 07, 2016</option>
														<option value="12/08/2016">December 08, 2016</option>
														<option value="12/09/2016">December 09, 2016</option>
														<option value="12/10/2016">December 10, 2016</option>
														<option value="12/11/2016">December 11, 2016</option>
														<option value="12/12/2016">December 12, 2016</option>
														<option value="12/13/2016">December 13, 2016</option>
														<option value="12/14/2016">December 14, 2016</option>
														<option value="12/15/2016">December 15, 2016</option>
														<option value="12/16/2016">December 16, 2016</option>
														<option value="12/17/2016">December 17, 2016</option>
														<option value="12/18/2016">December 18, 2016</option>
														<option value="12/19/2016">December 19, 2016</option>
														<option value="12/20/2016">December 20, 2016</option>
														<option value="12/21/2016">December 21, 2016</option>
														<option value="12/22/2016">December 22, 2016</option>
														<option value="12/23/2016">December 23, 2016</option>
														<option value="12/24/2016">December 24, 2016</option>
														<option value="12/25/2016">December 25, 2016</option>
														<option value="12/26/2016">December 26, 2016</option>
														<option value="12/27/2016">December 27, 2016</option>
														<option value="12/28/2016">December 28, 2016</option>
														<option value="12/29/2016">December 29, 2016</option>
														<option value="12/30/2016">December 30, 2016</option>
														<option value="12/31/2016">December 31, 2016</option>
														<option value="01/01/2017">January 01, 2017</option>
														<option value="01/02/2017">January 02, 2017</option>
														<option value="01/03/2017">January 03, 2017</option>
														<option value="01/04/2017">January 04, 2017</option>
														<option value="01/05/2017">January 05, 2017</option>
													</select>											
												</div>
											</div>
											<div class="row gutter30">
												<center>
													<br><br>
													<button id="btnP2" type="button" disabled="true" onclick="predict2()" class="btn btn-info">Predict</button>
													<br><br>
													<h3 id="predP2">...</h3>
													
												</center>
											</div>
											
										</div>
									</div>
								</div>
							</div>
							
							<div class="small-block">	
								<div class="small-block-header">
									Most alarming District
								</div>
								<div class="small-block-content">							
									<div class="row gutter30">
										<div class="col-xs-12">
											<br>
											<div class="row gutter30">
												<div class="col-xs-4">
												</div>
												<div class="col-xs-4">
													<h3>Date</h3>
												</div>									
												<div class="col-xs-4">
												</div>
											</div>
											<div class="row gutter30">
												<div class="col-xs-4">
												</div>										
												<div class="col-xs-4">
													<select id="ddnDateP3" onselect="isP3ItemsSelected()" onchange="isP3ItemsSelected()" class="form-control" size="1">
														<option value="0">Select</option>
														<option value="12/07/2016">December 07, 2016</option>
														<option value="12/08/2016">December 08, 2016</option>
														<option value="12/09/2016">December 09, 2016</option>
														<option value="12/10/2016">December 10, 2016</option>
														<option value="12/11/2016">December 11, 2016</option>
														<option value="12/12/2016">December 12, 2016</option>
														<option value="12/13/2016">December 13, 2016</option>
														<option value="12/14/2016">December 14, 2016</option>
														<option value="12/15/2016">December 15, 2016</option>
														<option value="12/16/2016">December 16, 2016</option>
														<option value="12/17/2016">December 17, 2016</option>
														<option value="12/18/2016">December 18, 2016</option>
														<option value="12/19/2016">December 19, 2016</option>
														<option value="12/20/2016">December 20, 2016</option>
														<option value="12/21/2016">December 21, 2016</option>
														<option value="12/22/2016">December 22, 2016</option>
														<option value="12/23/2016">December 23, 2016</option>
														<option value="12/24/2016">December 24, 2016</option>
														<option value="12/25/2016">December 25, 2016</option>
														<option value="12/26/2016">December 26, 2016</option>
														<option value="12/27/2016">December 27, 2016</option>
														<option value="12/28/2016">December 28, 2016</option>
														<option value="12/29/2016">December 29, 2016</option>
														<option value="12/30/2016">December 30, 2016</option>
														<option value="12/31/2016">December 31, 2016</option>
														<option value="01/01/2017">January 01, 2017</option>
														<option value="01/02/2017">January 02, 2017</option>
														<option value="01/03/2017">January 03, 2017</option>
														<option value="01/04/2017">January 04, 2017</option>
														<option value="01/05/2017">January 05, 2017</option>
													</select>											
												</div>												
												<div class="col-xs-4">
												</div>
											</div>
											<div class="row gutter30">
												<center>
													<br><br>
													<button id="btnP3" type="button" disabled="true" onclick="predict3()" class="btn btn-info">Predict</button>
													<br><br>
													<h3 id="predP3">...</h3>
													
												</center>
											</div>
											
										</div>
									</div>
								</div>
							</div>
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
	ddnDistrictP2 = document.getElementById('ddnDistrictP2');
	ddnDateP2 = document.getElementById('ddnDateP2');
	btnP2 = document.getElementById('btnP2');
	predP2 = document.getElementById('predP2');

	ddnDateP3 = document.getElementById('ddnDateP3');
	btnP3 = document.getElementById('btnP3');
	predP3 = document.getElementById('predP3');
	
	pred2 = "data/Pred2.json";
	pred3 = "data/Pred3.json";

	var pred2Data = '';
	var pred3Data = '';

	$.getJSON( pred2, function( pred2Data_ ) {
		pred2Data = pred2Data_;
	})
	$.getJSON( pred3, function( pred3Data_ ) {
		pred3Data = pred3Data_;
	})
		
	function isP2ItemsSelected() {
		if ((ddnDistrictP2.value!=0) && (ddnDateP2.value!=0))  {
			btnP2.disabled = false;
		}
		else {
			btnP2.disabled = true;
		}
	}
	
	function predict2() {
	loadingOn(true);
	setTimeout(function(){ 
		var district = ddnDistrictP2.value;
		var date = ddnDateP2.value;
		
		for(var ind=0; ind<pred2Data.length; ind++){
			if ((district==pred2Data[ind].District) && (date==pred2Data[ind].Date)) {
				predP2.innerHTML = 'Model predicts '+ pred2Data[ind].Count +' number of crimes to happen...';
			}
		}		
		loadingOn(false);
	},1550);
	}


	function isP3ItemsSelected() {
		if (ddnDateP3.value!=0)  {
			btnP3.disabled = false;
		}
		else {
			btnP3.disabled = true;
		}
	}
	
	function predict3() {
	loadingOn(true);
	setTimeout(function(){ 
		var date = ddnDateP3.value;
		
		for(var ind=0; ind<pred3Data.length; ind++){
			if (date==pred3Data[ind].Date) {
				predP3.innerHTML = pred3Data[ind].District +' may be the alarming district';
			}
		}		
		loadingOn(false);
	},1550);
	}

	function loadingOn (isLoading) {	
	loadingBackGround = document.getElementById('loadingBackGround');
	if(isLoading){
		loadingBackGround.style="display:block;";
	}
	else {
		loadingBackGround.style="display:none;";		
	}
	}
</script>
<script src="js/bootstrap.js"></script>
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript">
</body>
</html>